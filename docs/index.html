<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>@pixi/node</title>
    
    <meta name="description" content="Bundle for PixiJS with support for NodeJS" />
    
    
    
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <script src="scripts/bootstrap.min.js"></script>

    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/googlecode.min.css">
    <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Franklin:400,700">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/main.css">
    <link type="text/css" rel="stylesheet" href="styles/collapsible-group.css">
    
    <script>
    var config = {"cleverLinks":false,"monospaceLinks":false,"default":{"outputSourceFiles":false},"applicationName":"@pixi/node","copyright":"&copy; Copyright 2024 PixiJS Team","googleAnalytics":"","linenums":false,"meta":{"title":"@pixi/node","description":"Bundle for PixiJS with support for NodeJS","keyword":""}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">@pixi/node</a></h3>
    <button id="menuToggle" class="btn btn-link btn-lg menu-toggle">
        <span class="glyphicon glyphicon-menu-hamburger"></span>
    </button>
    <div class="search">
        <input id="search" type="text" class="form-control input-md" placeholder="Search...">
    </div>
    <ul class="list">
    
    
        <li class="item" data-name="NodeCanvasElement">
            <span class="title  ">
                
                
                    <a href=NodeCanvasElement.html>NodeCanvasElement</a>
                
            </span>
            
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="NodeCanvasElement.style"><a href=NodeCanvasElement.html#style>style</a></li>
            
            </ul>

            <ul class="enums itemMembers">
                
            </ul>

            
            <ul class="typedefs itemMembers">
            
            </ul>
            
            <ul class="typedefs itemMembers">
            
            </ul>
            
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="NodeCanvasElement.addEventListener"><a href=NodeCanvasElement.html#addEventListener>addEventListener</a></li>
            
                <li class="parent  " data-name="NodeCanvasElement.dispatchEvent"><a href=NodeCanvasElement.html#dispatchEvent>dispatchEvent</a></li>
            
                <li class="parent  " data-name="NodeCanvasElement.removeEventListener"><a href=NodeCanvasElement.html#removeEventListener>removeEventListener</a></li>
            
                <li class="parent  " data-name="NodeCanvasElement.toBuffer"><a href=NodeCanvasElement.html#toBuffer>toBuffer</a></li>
            
                <li class="parent  " data-name="NodeCanvasElement.toBuffer"><a href=NodeCanvasElement.html#toBuffer>toBuffer</a></li>
            
                <li class="parent  " data-name="NodeCanvasElement.toBuffer"><a href=NodeCanvasElement.html#toBuffer>toBuffer</a></li>
            
                <li class="parent  " data-name="NodeCanvasElement.toBuffer"><a href=NodeCanvasElement.html#toBuffer>toBuffer</a></li>
            
                <li class="parent  " data-name="NodeCanvasElement.toDataURL"><a href=NodeCanvasElement.html#toDataURL>toDataURL</a></li>
            
                <li class="parent  " data-name="NodeCanvasElement.toDataURL"><a href=NodeCanvasElement.html#toDataURL>toDataURL</a></li>
            
                <li class="parent  " data-name="NodeCanvasElement.toDataURL"><a href=NodeCanvasElement.html#toDataURL>toDataURL</a></li>
            
                <li class="parent  " data-name="NodeCanvasElement.toDataURL"><a href=NodeCanvasElement.html#toDataURL>toDataURL</a></li>
            
                <li class="parent  " data-name="NodeCanvasElement.toDataURL"><a href=NodeCanvasElement.html#toDataURL>toDataURL</a></li>
            
                <li class="parent  " data-name="NodeCanvasElement.toDataURL"><a href=NodeCanvasElement.html#toDataURL>toDataURL</a></li>
            
                <li class="parent  " data-name="NodeCanvasElement.toDataURL"><a href=NodeCanvasElement.html#toDataURL>toDataURL</a></li>
            
            </ul>
            
            <ul class="events itemMembers">
            
            </ul>
            
        </li>
    
        <li class="item" data-name="NodeCanvasResource">
            <span class="title  ">
                
                
                    <a href=NodeCanvasResource.html>NodeCanvasResource</a>
                
            </span>
            
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="NodeCanvasResource.source"><a href=NodeCanvasResource.html#source>source</a></li>
            
            </ul>

            <ul class="enums itemMembers">
                
            </ul>

            
            <ul class="typedefs itemMembers">
            
            </ul>
            
            <ul class="typedefs itemMembers">
            
            </ul>
            
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="NodeCanvasResource.crossOrigin"><a href=NodeCanvasResource.html#crossOrigin>crossOrigin</a></li>
            
                <li class="parent  " data-name="NodeCanvasResource.update"><a href=NodeCanvasResource.html#update>update</a></li>
            
            </ul>
            
            <ul class="events itemMembers">
            
            </ul>
            
        </li>
    
    </ul>
</div>

    <div class="main">
        <h1 class="page-title" data-filename="index.html">Home</h1>
        

    




    <section>
        <article class="readme content-size"><h1>@pixi/node</h1>
<p><strong>We are now a part of the <a href="https://opencollective.com/pixijs">Open Collective</a> and with your support you can help us make PixiJS even better. To make a donation, simply click the button below and we'll love you forever!</strong></p>
<div align="center">
  <a href="https://opencollective.com/pixijs/donate" target="_blank">
    <img src="https://opencollective.com/pixijs/donate/button@2x.png?color=blue" width=250 />
  </a>
</div>
<h2>Setup</h2>
<h3>Install</h3>
<pre><code class="hljs"><span class="hljs-built_in">npm</span> install @pixi/node
</code></pre>
<p>There is no default export. The correct way to import PixiJS is:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">PIXI</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@pixi/node&quot;</span>;
</code></pre>
<h3>Error installing gl package</h3>
<p>In most cases installing <code>gl</code> from npm should just work. However, if you run into problems you might need to adjust your system configuration and make sure all your dependencies are up to date</p>
<p>Please refer to the <a href="https://www.npmjs.com/package/gl/v/4.5.3-win64.0#system-dependencies">gl installation guide</a> for more information.</p>
<h3>Error installing canvas package</h3>
<p>The <a href="https://www.npmjs.com/package/canvas">canvas</a> library currently being used does not have a pre-built version for every environment.
When the package detects an unsupported environment, it will try to build from source.</p>
<p>To build from source you will need to make sure you have the following dependencies installed and then reinstall:</p>
<p><code>brew install pkg-config cairo pango libpng jpeg giflib librsvg</code></p>
<p>For non-mac users, please refer to the <a href="https://www.npmjs.com/package/canvas#compiling">canvas installation guide</a> for more information.</p>
<h3>Error unable to auto-detect a suitable renderer</h3>
<p>When running in a headless environment (e.g. server or continuous integration), use <code>xvfb</code> as a virtual frame buffer.
Install with:</p>
<pre><code class="hljs">sudo apt-<span class="hljs-built_in">get</span> install xvfb
</code></pre>
<p>And then use with node when starting the program:</p>
<pre><code class="hljs">xvfb-run <span class="hljs-keyword">node</span> <span class="hljs-title">./src</span>/index.js
</code></pre>
<h2>Basic Usage Example</h2>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Application</span>, <span class="hljs-title class_">Assets</span>, <span class="hljs-title class_">Sprite</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@pixi/node&#x27;</span>;
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;path&#x27;</span>;
<span class="hljs-keyword">import</span> { writeFileSync } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;fs&#x27;</span>;

<span class="hljs-comment">// This package requires the new asset loader to be used.</span>
<span class="hljs-comment">// Initialize the new assets loader</span>
<span class="hljs-keyword">await</span> <span class="hljs-title class_">Assets</span>.<span class="hljs-title function_">init</span>();

<span class="hljs-comment">// The application will create a renderer using WebGL. It will also setup the ticker</span>
<span class="hljs-comment">// and the root stage Container.</span>
<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Application</span>();

<span class="hljs-comment">// load a sprite</span>
<span class="hljs-keyword">const</span> bunnyTexture = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Assets</span>.<span class="hljs-title function_">load</span>(path.<span class="hljs-title function_">join</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">&#x27;assets/bunny.png&#x27;</span>));
<span class="hljs-comment">// create sprite from texture</span>
<span class="hljs-keyword">const</span> bunny = <span class="hljs-title class_">Sprite</span>.<span class="hljs-title function_">from</span>(bunnyTexture);

<span class="hljs-comment">// Setup the position of the bunny</span>
bunny.<span class="hljs-property">x</span> = app.<span class="hljs-property">renderer</span>.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>;
bunny.<span class="hljs-property">y</span> = app.<span class="hljs-property">renderer</span>.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>;

<span class="hljs-comment">// Rotate around the center</span>
bunny.<span class="hljs-property">anchor</span>.<span class="hljs-property">x</span> = <span class="hljs-number">0.5</span>;
bunny.<span class="hljs-property">anchor</span>.<span class="hljs-property">y</span> = <span class="hljs-number">0.5</span>;

<span class="hljs-comment">// Add the bunny to the scene we are building.</span>
app.<span class="hljs-property">stage</span>.<span class="hljs-title function_">addChild</span>(bunny);

<span class="hljs-comment">// Listen for frame updates</span>
app.<span class="hljs-property">ticker</span>.<span class="hljs-title function_">add</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// each frame we spin the bunny around a bit</span>
    bunny.<span class="hljs-property">rotation</span> += <span class="hljs-number">0.01</span>;
});

<span class="hljs-comment">// extract and save the stage</span>
app.<span class="hljs-property">renderer</span>.<span class="hljs-title function_">render</span>(app.<span class="hljs-property">stage</span>);
<span class="hljs-keyword">const</span> base64Image = app.<span class="hljs-property">renderer</span>.<span class="hljs-property">extract</span>
    .<span class="hljs-title function_">canvas</span>(app.<span class="hljs-property">stage</span>)
    .<span class="hljs-title function_">toDataURL</span>(<span class="hljs-string">&#x27;image/png&#x27;</span>);

<span class="hljs-keyword">const</span> base64Data = base64Image.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^data:image\/png;base64,/</span>, <span class="hljs-string">&#x27;&#x27;</span>);
<span class="hljs-keyword">const</span> output = <span class="hljs-string">`./test.png`</span>;

<span class="hljs-title function_">writeFileSync</span>(output, base64Data, <span class="hljs-string">&#x27;base64&#x27;</span>);
</code></pre>
<h2>Full environment setup with Docker 🐳</h2>
<p><em>NOTE: It is recommended to add <code>node_modules</code> to your <code>.dockerignore</code> file.</em></p>
<pre><code class="hljs language-Dockerfile"><span class="hljs-comment"># Set the base image</span>
<span class="hljs-keyword">FROM</span> node:<span class="hljs-number">16</span>

<span class="hljs-comment"># Create and set the working directory</span>
<span class="hljs-keyword">WORKDIR</span><span class="language-bash"> /usr/src/app</span>

<span class="hljs-comment"># Add dependencies for gl, canvas and xvfb</span>
<span class="hljs-comment"># Important! These dependencies must be installed before running `npm install`</span>
<span class="hljs-keyword">RUN</span><span class="language-bash"> apt-get update \
    &amp;&amp; apt-get install -y build-essential libcairo2-dev libgif-dev libglew-dev libglu1-mesa-dev libjpeg-dev libpango1.0-dev librsvg2-dev libxi-dev pkg-config xvfb \
    &amp;&amp; <span class="hljs-built_in">rm</span> -rf /var/lib/apt/lists/*</span>

<span class="hljs-comment"># Install app dependencies</span>
<span class="hljs-keyword">COPY</span><span class="language-bash"> package*.json ./</span>
<span class="hljs-keyword">RUN</span><span class="language-bash"> npm install</span>

<span class="hljs-comment"># Bundle app source</span>
<span class="hljs-keyword">COPY</span><span class="language-bash"> . .</span>

<span class="hljs-comment"># Start the server</span>
<span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">3000</span>
<span class="hljs-keyword">CMD</span><span class="language-bash"> xvfb-run node ./src/index.js</span>
</code></pre>
<h3>License</h3>
<p>This content is released under the (http://opensource.org/licenses/MIT) MIT License.</p>
</article>
    </section>







        

        <footer class="content-size">
            <div class="footer">
                Documentation generated by <a href="https://github.com/webdoc-js/webdoc">Webdoc 1</a> on Wed Jan 03 2024 14:47:08 GMT-0500 (Eastern Standard Time)
            </div>
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/main.js"></script>



<script src="scripts/linenumber.js"></script>
</body>
</html>
